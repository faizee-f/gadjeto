{% extends 'base.html'%} {% load static %} {% block content %}

<main class="main">
    <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
        <div class="container">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Pages</a></li>
                <li class="breadcrumb-item active" aria-current="page">Login</li>
            </ol>
        </div>
        <!-- End .container -->
    </nav>
    <!-- End .breadcrumb-nav -->

    <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17" style="background-image: url('assets/images/backgrounds/login-bg.jpg')">
        <div class="container">
            <div class="form-box">
                <div class="form-tab">
                    <ul class="nav nav-pills nav-fill" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="signin-tab-2" data-toggle="tab" href="#signin-2" role="tab" aria-controls="signin-2" aria-selected="false">Sign In</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="signin-2" role="tabpanel" aria-labelledby="signin-tab-2">
                            <form action="{% url 'signin_otp' %}" method="post" id="otpform">
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="singin-email-2">Phone Number*</label>
                                    <input type="number" class="form-control" id="numberotp" name="phone" required>
                                </div>
                                <div class="form-footer">
                                    <button type="submit" class="btn btn-outline-primary-2">
										<span>SEND OTP</span>
										<i class="icon-long-arrow-right"></i>
									</button>
                                    <!-- End .custom-checkbox -->


                                </div>
                                {% if messages %} {% for message in messages %}{{message}} {% endfor %} {% endif %}
                                <!-- End .form-footer -->
                            </form>

                            <!-- End .form-choice -->
                        </div>
                        <!-- .End .tab-pane -->


                    </div>
                    <!-- .End .tab-pane -->
                </div>
                <!-- End .tab-content -->
            </div>
            <!-- End .form-tab -->
        </div>
        <!-- End .form-box -->
    </div>
    <!-- End .container -->
    </div>
    <!-- End .login-page section-bg -->
</main>
<!-- End .main -->



<!-- Plugins JS File -->
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/jquery.hoverIntent.min.js' %}"></script>
<script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'js/superfish.min.js' %}"></script>
<script src="{% static 'js/owl.carousel.min.js' %}"></script>
<!-- Main JS File -->
<script src="{% static 'js/main.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js" integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<style>
    .error{
        color: red;
    }
</style>
<script>
    $(document).ready(function ($) {
        $("#otpform").validate({
            rules: {
                phone:{
                    required: true,
                    minlength:10,
                    maxlength:10
                },
            },
            messages: {
                phone: {
                    required: "Please provide a mobile number",
                    minlength:"Please enter a valid mobile number",
                    maxlength:"Invalid number : more 10 numbers",
                },
                
            },
            submitHandler: function (form) {
                form.submit();
            }

        });
    });
    jQuery('#numberotp').keypress(function(event){
	if(event.which !=8 && isNaN(String.fromCharCode(event.which))){
		event.preventDefault();
	}
		console.log(event.which);

});
</script>
{% endblock %}